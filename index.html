<!DOCTYPE html>
<html lang="en">
<head>
    <!-- =================================================== -->
    <!-- ============== SEO ‡¶è‡¶¨‡¶Ç ‡¶Æ‡ßá‡¶ü‡¶æ ‡¶ü‡ßç‡¶Ø‡¶æ‡¶ó ‡¶∂‡ßÅ‡¶∞‡ßÅ ============== -->
    <!-- =================================================== -->

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Google Site Verification -->
    <meta name="google-site-verification" content="1mDUrmtjTiKfrYayJONYnzIhgBQcw30UZi0Q1hdhAO4" />

    <!-- Primary Meta Tags -->
    <title>Movie TV - Watch & Download Latest HD Movies</title>
    <meta name="title" content="Movie TV - Watch & Download Latest HD Movies">
    <meta name="description" content="Explore and download a vast collection of the latest and classic movies in HD. Find your favorite action, comedy, horror, and romantic films easily and for free.">
    <meta name="keywords" content="movie downloader, latest movies, hd movies, download movies, free movies, action movies, comedy, horror, romantic, movie apps">

    <!-- Robots Meta Tag -->
    <meta name="robots" content="index, follow">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://hindimovie.netlify.app/" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://hindimovie.netlify.app/">
    <meta property="og:title" content="Movie TV - Watch & Download Latest HD Movies">
    <meta property="og:description" content="Explore and download a vast collection of the latest and classic movies in HD. Find your favorite action, comedy, horror, and romantic films easily and for free.">
    <meta property="og:image" content="https://rabbi50100.github.io/-HD/og-image.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://hindimovie.netlify.app/">
    <meta property="twitter:title" content="Movie TV - Watch & Download Latest HD Movies">
    <meta property="twitter:description" content="Explore and download a vast collection of the latest and classic movies in HD. Find your favorite action, comedy, horror, and romantic films easily and for free.">
    <meta property="twitter:image" content="https://rabbi50100.github.io/-HD/og-image.jpg">

    <!-- ================================================= -->
    <!-- ============== SEO ‡¶è‡¶¨‡¶Ç ‡¶Æ‡ßá‡¶ü‡¶æ ‡¶ü‡ßç‡¶Ø‡¶æ‡¶ó ‡¶∂‡ßá‡¶∑ ============== -->
    <!-- ================================================= -->


    <!-- --- Firebase SDK --- -->
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-database-compat.js"></script>

    <!-- Ad Scripts -->
    <script type='text/javascript' src='//pl27240886.profitableratecpm.com/d0/01/48/d001486b77c50cc7955b8de7fa77722a.js'></script>
    <script type='text/javascript' src='//pl25592823.profitableratecpm.com/5a/44/f3/5a44f3953acebff68b2ef494fac71fea.js'></script>
    
    <!-- JSON-LD Schema for Website -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Movie TV",
      "url": "https://hindimovie.netlify.app/",
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://hindimovie.netlify.app/#search={search_term_string}",
        "query-input": "required name=search_term_string"
      }
    }
    </script>

  <style>
    /* ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡¶ï‡¶≤ CSS ‡¶ï‡ßã‡¶° ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ö‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶ø‡¶§ ‡¶•‡¶æ‡¶ï‡¶¨‡ßá */
    html { scroll-behavior: smooth; }
    body{margin:0;padding:20px;font-family:Arial,sans-serif;background-color:#111;color:#fff;overflow-x:hidden}body.loading{overflow:hidden}body.loading>*:not(#loader){display:none}header{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;background-color:#1a1a1a;box-shadow:0 2px 10px rgba(0,0,0,.5);border-bottom:2px solid orange}header h1{color:orange;font-size:28px;font-weight:700;margin:0;letter-spacing:1px;text-shadow:0 0 5px rgba(255,165,0,.7)}.category-filters{text-align:center;margin:20px 0;display:flex;justify-content:center;flex-wrap:wrap;gap:8px;padding:0 10px}.category-filters button{background-color:#333;color:orange;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-size:14px;transition:background-color .3s ease;white-space:nowrap}.category-filters button:hover{background-color:#555}.category-filters button.active{background-color:orange;color:#000}#saved-posts-button{font-size:16px;cursor:pointer;color:orange;border:1px solid orange;background:0 0;padding:8px 15px;border-radius:5px;transition:background-color .3s ease,color .3s ease;font-weight:700}#saved-posts-button:hover{background-color:orange;color:#1a1a1a}#search-bar{margin:20px auto;max-width:600px;display:block;width:100%;padding:10px;background-color:#222;color:#fff;border:none;border-radius:6px;font-size:16px}.movie-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:15px;max-width:600px;margin:20px auto}.movie-card{background-color:#222;border-radius:10px;overflow:hidden;transition:transform .2s;position:relative}.movie-card:hover{transform:scale(1.03)}.movie-card img{width:100%;height:280px;object-fit:cover;display:block;cursor:pointer}.movie-title{padding:10px;text-align:center;font-weight:700}.more-options-btn{position:absolute;top:8px;right:8px;font-size:24px;cursor:pointer;color:orange;background:0 0;border:none;padding:2px 8px;line-height:1;z-index:10}.options-menu{display:none;position:absolute;top:35px;right:8px;background-color:#333;border-radius:5px;box-shadow:0 2px 5px rgba(0,0,0,.7);z-index:11;padding:5px 0;min-width:120px;text-align:left}.options-menu a{display:block;padding:8px 15px;color:#fff;text-decoration:none;font-size:14px;transition:background-color .2s}.options-menu a:hover{background-color:#555}#savedPostsModal .modal-content{background-color:#222;text-align:left;max-width:600px;padding:20px}#savedPostsModal h2{color:orange;text-align:center;margin-bottom:20px}#savedPostsModal .thumbnails-container{display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:10px}#savedPostsModal .thumbnail-item{position:relative;cursor:pointer;border-radius:5px;overflow:hidden;transition:transform .2s,box-shadow .2s}#savedPostsModal .thumbnail-item:hover{transform:scale(1.05);box-shadow:0 0 15px orange}#savedPostsModal .thumbnail-item img{width:100%;height:120px;object-fit:cover;display:block}#savedPostsModal .thumbnail-item .title{position:absolute;bottom:0;left:0;right:0;background-color:rgba(0,0,0,.7);color:#fff;font-size:12px;padding:5px;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}#savedPostsModal .remove-saved{position:absolute;top:2px;right:2px;cursor:pointer;color:red;font-size:18px;background:rgba(0,0,0,.5);border-radius:50%;width:22px;height:22px;line-height:22px;text-align:center;z-index:10}#savedPostsModal .no-posts{text-align:center;color:#ccc;padding:20px}.modal{display:none;position:fixed;z-index:9999;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:rgba(0,0,0,.7)}.modal-content{background-color:#222;margin:10% auto;padding:20px;border-radius:10px;width:90%;max-width:400px;text-align:center}.modal-content img{width:100%;border-radius:10px}.modal-content h3{margin:15px 0;color:orange}.modal-content a{display:inline-block;padding:10px 20px;background-color:orange;color:#000;text-decoration:none;font-weight:700;border-radius:5px;margin-top:10px}.modal-content a:hover{background-color:darkorange}.close{float:right;font-size:20px;color:#fff;cursor:pointer}#loader{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:10000;flex-direction:column}.spinner{border:6px solid #f3f3f3;border-top:6px solid orange;border-radius:50%;width:50px;height:50px;animation:spin 1s linear infinite;margin-bottom:20px}#loader p{color:orange;font-size:18px;margin:0}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.privacy-policy{max-width:800px;margin:40px auto;padding:30px;background-color:#222;border-radius:10px;color:#fff;line-height:1.6;box-shadow:0 4px 15px rgba(0,0,0,.5)}.privacy-policy h2,.privacy-policy h3{color:orange}.footer-links{text-align:center;margin-top:30px;margin-bottom:20px}.footer-links a{color:orange;text-decoration:none;margin:0 10px;font-size:16px}.footer-links a:hover{text-decoration:underline}.movie-views{display:flex;justify-content:center;padding:5px 0;font-size:12px;color:#bbb;border-top:1px solid #333;margin-top:5px}.movie-views p{margin:0;display:flex;align-items:center;gap:5px}.movie-actions{text-align:center;padding:8px 0;border-top:1px solid #333;margin-top:5px}.like-btn{background:0 0;border:none;color:orange;font-size:16px;cursor:pointer;display:flex;align-items:center;gap:5px;margin:0 auto;padding:5px 10px;border-radius:5px;transition:background-color .3s ease}.like-btn:hover{background-color:#333}.like-btn:active{color:red}.movie-stats{display:flex;justify-content:space-around;align-items:center;padding:8px 0;border-top:1px solid #333;margin-top:5px;font-size:14px}.download-buttons{display:flex;flex-direction:column;align-items:stretch;gap:10px;margin-top:20px}.download-buttons a{display:flex;align-items:center;justify-content:center;padding:12px 15px;color:#fff;text-decoration:none;font-weight:700;border-radius:8px;transition:background-color .3s ease;font-size:16px;gap:8px}.download-buttons a.watch-button{background-color:#d9534f}.download-buttons a.watch-button:hover{background-color:#c9302c}.download-buttons a.download-button{background-color:#5cb85c}.download-buttons a.download-button:hover{background-color:#4cae4c}
  </style>
</head>
<body>
  <header>
    <h1>üé¨ Movie TV</h1>
    <button id="saved-posts-button" title="Saved Posts">Saved List</button>
  </header>

  <div class="category-filters">
    <button onclick="filterByCategory('all', event)" class="active">All</button>
    <button onclick="filterByCategory('latest movie', event)">Latest Movie</button>
    <button onclick="filterByCategory('action', event)">Action</button>
    <button onclick="filterByCategory('comedy', event)">Comedy</button>
    <button onclick="filterByCategory('horror', event)">Horror</button>
    <button onclick="filterByCategory('romantic', event)">Romantic</button>
  </div>

  <div id="savedPostsModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('savedPostsModal')">√ó</span>
      <h2>üìö Saved Posts</h2>
      <div class="thumbnails-container" id="saved-posts-list"></div>
      <div class="no-posts" id="no-saved-posts-message" style="display: none;">No saved posts yet.</div>
    </div>
  </div>

  <input type="text" id="search-bar" placeholder="üîç Search movies by title..." onkeyup="filterMovies()">

  <div id="viewerModal" class="modal">
    <div class="modal-content" id="viewerContent"></div>
  </div>

  <div id="loader">
      <div class="spinner"></div>
      <p>Loading Movies...</p>
  </div>

  <div class="movie-grid" id="movie-grid"></div>

  <div id="privacy-policy-section" class="privacy-policy" style="display: none;">
    <!-- ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶æ‡¶á‡¶≠‡ßá‡¶∏‡¶ø ‡¶™‡¶≤‡¶ø‡¶∏‡¶ø‡¶∞ ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶® -->
  </div>

  <div class="footer-links">
      <a href="#privacy-policy-section" onclick="showPrivacyPolicy(event)">Privacy Policy</a> | <a href="#">Terms of Service</a>
      <p style="margin-top: 10px;">¬© 2025 Movie TV. All Rights Reserved.</p>
  </div>

<!-- ========================================================== -->
<!-- ============= ‡¶∂‡ßÅ‡¶∞‡ßÅ: ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶ú‡¶æ‡¶≠‡¶æ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü ‡¶ï‡ßã‡¶° ============= -->
<!-- ========================================================== -->
<script>
    // --- Firebase ‡¶ï‡¶®‡¶´‡¶ø‡¶ó‡¶æ‡¶∞‡ßá‡¶∂‡¶® ---
    const firebaseConfig = {
      apiKey: "AIzaSyD-tlrPK8s9h87PVqtvprBy_phcCqONLeU",
      authDomain: "my-movie-81a4b.firebaseapp.com",
      databaseURL: "https://my-movie-81a4b-default-rtdb.firebaseio.com",
      projectId: "my-movie-81a4b",
      storageBucket: "my-movie-81a4b.firebasestorage.app",
      messagingSenderId: "249876555391",
      appId: "1:249876555391:web:81f3ad52805b0aa314c14a",
      measurementId: "G-RHPWTHQHS2"
    };

    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();
    const moviesRef = database.ref('movies');

    // --- DOM ‡¶â‡¶™‡¶æ‡¶¶‡¶æ‡¶® ---
    const movieGrid = document.getElementById('movie-grid');
    const loader = document.getElementById('loader');
    const mainContent = [document.querySelector('header'), document.querySelector('.category-filters'), document.getElementById('search-bar'), movieGrid];

    // --- ‡¶ó‡ßç‡¶≤‡ßã‡¶¨‡¶æ‡¶≤ ‡¶≠‡ßç‡¶Ø‡¶æ‡¶∞‡¶ø‡ßü‡ßá‡¶¨‡¶≤ ---
    let allMovieData = {};
    let allMovieElements = {};
    let currentCategoryFilter = 'all';
    let lastClickedCardElement = null; // <<< ‡¶®‡¶§‡ßÅ‡¶®: ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡¶æ ‡¶ï‡¶æ‡¶∞‡ßç‡¶° ‡¶Æ‡¶®‡ßá ‡¶∞‡¶æ‡¶ñ‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø

    // --- Helper Functions ---
    function createSlug(title) {
        if (!title) return '';
        return title.toLowerCase().replace(/ /g, '-').replace(/[^\w-]+/g, '');
    }

    function escapeQuotes(str) {
        if (typeof str !== 'string') return '';
        return str.replace(/'/g, "\\'").replace(/"/g, '\\"');
    }

    // --- SEO ‡¶è‡¶¨‡¶Ç ‡¶Æ‡ßá‡¶ü‡¶æ ‡¶ü‡ßç‡¶Ø‡¶æ‡¶ó ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü (‡¶Ö‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶ø‡¶§) ---
    function updateMetaTags(title, description, image, url) { /* ... */ }
    function resetMetaTags() { /* ... */ }
    // (‡¶´‡¶æ‡¶Ç‡¶∂‡¶®‡¶ó‡ßÅ‡¶≤‡ßã‡¶∞ ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶ï‡ßã‡¶° ‡¶â‡¶™‡¶∞‡ßá ‡¶Ü‡¶õ‡ßá, ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶∏‡¶Ç‡¶ï‡ßç‡¶∑‡¶ø‡¶™‡ßç‡¶§ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶≤‡ßã)
    
    // --- UI ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü (‡¶Ö‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶ø‡¶§) ---
    function showMainContent(shouldShow) { /* ... */ }

    // --- ‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶® ‡¶°‡ßá‡¶ü‡¶æ ‡¶≤‡ßã‡¶°‡¶ø‡¶Ç ‡¶è‡¶¨‡¶Ç ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶á‡¶®‡¶ø‡¶∂‡¶ø‡ßü‡¶æ‡¶≤‡¶æ‡¶á‡¶ú‡ßá‡¶∂‡¶® ---
    document.addEventListener('DOMContentLoaded', () => {
        document.body.classList.add('loading');
        moviesRef.orderByChild('timestamp').once('value', (snapshot) => {
            document.body.classList.remove('loading');
            loader.style.display = 'none';
            movieGrid.innerHTML = '';
            
            const moviesArray = [];
            snapshot.forEach(childSnapshot => {
                const movie = { key: childSnapshot.key, ...childSnapshot.val() };
                movie.slug = createSlug(movie.title);
                moviesArray.push(movie);
                allMovieData[movie.slug] = movie;
            });
            moviesArray.reverse();

            if (moviesArray.length > 0) {
                moviesArray.forEach(addMovieCard);
            } else {
                 movieGrid.innerHTML = '<p style="text-align:center;">No movies found.</p>';
            }
            handleRouteChange();
        }, (error) => { /* ... ‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶ø‡¶Ç ... */ });
    });

    // --- ‡¶ï‡¶æ‡¶∞‡ßç‡¶° ‡¶è‡¶¨‡¶Ç ‡¶≠‡¶ø‡¶â‡ßü‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ---
    function addMovieCard(movieData) {
      const { key, title, image, slug, category, viewCount, likeCount } = movieData;
      const card = document.createElement('div');
      card.className = 'movie-card';
      card.setAttribute('data-key', key);
      card.setAttribute('data-title', title.toLowerCase());
      card.setAttribute('data-category', (category || 'other').toLowerCase());
      card.setAttribute('data-slug', slug);

      // <<< ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶ø‡¶§: onclick ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ü‡ßç‡¶∞‡¶ø‡¶¨‡¶ø‡¶â‡¶ü ‡¶∏‡¶∞‡¶æ‡¶®‡ßã ‡¶π‡ßü‡ßá‡¶õ‡ßá
      card.innerHTML = `
        <button class="more-options-btn" onclick="toggleOptionsMenu(event)">‚Ä¶</button>
        <div class="options-menu" id="options-menu-${key}">
            <a href="#" onclick="savePostToLocalStorage(event, '${key}', '${escapeQuotes(title)}', '${escapeQuotes(image)}', '${escapeQuotes(movieData.link)}', '${escapeQuotes(movieData.link2)}', '${escapeQuotes(movieData.link3)}', '${escapeQuotes(category)}')">Save Post</a>
        </div>
        <div class="movie-content-wrapper">
          <img src="${image}" alt="${title}">
        </div>
        <div class="movie-title">${title}</div>
        <div style="text-align:center; font-size: 14px; color: orange;">[${category || 'Other'}]</div>
        <div class="movie-stats">
          <div class="movie-views"><p>üëÅÔ∏è <span id="views-${key}">${viewCount || 0}</span></p></div>
          <div class="movie-actions"><button class="like-btn" title="Like Movie" onclick="toggleLike(event, '${key}')">‚ù§Ô∏è <span id="likes-${key}">${likeCount || 0}</span></button></div>
        </div>
      `;
      
      // <<< ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶ø‡¶§: addEventListener ‡¶¶‡¶ø‡ßü‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï‡ßá‡¶∞ ‡¶ï‡¶æ‡¶∞‡ßç‡¶Ø‡¶ï‡¶æ‡¶∞‡¶ø‡¶§‡¶æ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá
      const wrapper = card.querySelector('.movie-content-wrapper');
      wrapper.addEventListener('click', () => {
          lastClickedCardElement = card; // ‡¶ï‡¶æ‡¶∞‡ßç‡¶°‡¶ü‡¶ø ‡¶Æ‡¶®‡ßá ‡¶∞‡¶æ‡¶ñ‡¶æ ‡¶π‡¶≤‡ßã
          openViewer(slug);
      });

      movieGrid.appendChild(card);
      allMovieElements[key] = card;

      database.ref('movies/' + key).on('value', (snapshot) => {
        const updatedData = snapshot.val();
        if (updatedData) {
            const viewsElement = document.getElementById(`views-${key}`);
            const likesElement = document.getElementById(`likes-${key}`);
            if (viewsElement) viewsElement.innerText = updatedData.viewCount || 0;
            if (likesElement) likesElement.innerText = updatedData.likeCount || 0;
        }
      });
    }

    function openViewer(slug, isDirectLoad = false) {
        // ... ‡¶è‡¶á ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®‡¶ü‡¶ø ‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶Æ‡¶§‡ßã‡¶á ‡¶•‡¶æ‡¶ï‡¶¨‡ßá, ‡¶ï‡ßã‡¶®‡ßã ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶®‡ßá‡¶á
    }

    function closeModal(id) {
        document.getElementById(id).style.display = 'none';
        showMainContent(true);

        // <<< ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶ø‡¶§: ‡¶∏‡¶†‡¶ø‡¶ï ‡¶∏‡ßç‡¶•‡¶æ‡¶®‡ßá ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶≤ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ï‡ßã‡¶° ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá
        if (lastClickedCardElement) {
            lastClickedCardElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        if (window.location.pathname.startsWith('/movie/')) {
            window.history.replaceState({}, '', '/');
        }
        resetMetaTags();
    }

    // --- ‡¶∞‡¶æ‡¶â‡¶ü‡¶ø‡¶Ç ‡¶è‡¶¨‡¶Ç URL ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶ø‡¶Ç (‡¶Ö‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶ø‡¶§) ---
    function handleRouteChange() { /* ... */ }
    window.onpopstate = () => { closeModal('viewerModal'); };

    // --- ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö (‡¶Ö‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶ø‡¶§) ---
    function filterMovies() { /* ... */ }
    function filterByCategory(category, event) { /* ... */ }

    // --- ‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø ‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶∂‡¶® ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® (‡¶Ö‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶ø‡¶§) ---
    window.onclick = function(event) { /* ... */ }
    function toggleLike(event, movieKey) { /* ... */ }
    function toggleOptionsMenu(event) { /* ... */ }

    // --- ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡¶æ ‡¶™‡ßã‡¶∏‡ßç‡¶ü‡ßá‡¶∞ ‡¶ï‡¶æ‡¶∞‡ßç‡¶Ø‡¶ï‡¶æ‡¶∞‡¶ø‡¶§‡¶æ ---
    document.getElementById('saved-posts-button').addEventListener('click', () => { /* ... */ });
    function savePostToLocalStorage(event, key, title, image, link, link2, link3, category) { /* ... */ }
    function removeSavedPost(event, key) { /* ... */ }
    
    function openSavedPostViewer(movieData) {
        lastClickedCardElement = null; // <<< ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶ø‡¶§: ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡¶æ ‡¶™‡ßã‡¶∏‡ßç‡¶ü‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ï‡ßã‡¶®‡ßã ‡¶ï‡¶æ‡¶∞‡ßç‡¶° ‡¶®‡ßá‡¶á
        const slug = createSlug(movieData.title);
        closeModal('savedPostsModal');
        openViewer(slug);
    }
    
    function showPrivacyPolicy(e) { /* ... */ }


    /* ============================================== */
    /* ===== ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®‡¶ó‡ßÅ‡¶≤‡ßã‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶ï‡ßã‡¶° ‡¶•‡¶æ‡¶ï‡¶¨‡ßá ===== */
    /* ============================================== */

    // ‡¶®‡¶ø‡¶ö‡ßá ‡¶∏‡¶ï‡¶≤ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®‡ßá‡¶∞ ‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡¶æ‡¶ô‡ßç‡¶ó ‡¶ï‡ßã‡¶° ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶π‡¶≤‡ßã ‡¶Ø‡¶æ ‡¶â‡¶™‡¶∞‡ßá ‡¶∏‡¶Ç‡¶ï‡ßç‡¶∑‡¶ø‡¶™‡ßç‡¶§ ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡¶ø‡¶≤‡•§
    function updateMetaTags(title, description, image, url){const fullTitle=`${title} - Movie TV`;document.title=fullTitle;document.querySelector('meta[name="title"]').setAttribute("content",fullTitle);document.querySelector('meta[name="description"]').setAttribute("content",description);document.querySelector('link[rel="canonical"]').setAttribute("href",url);document.querySelector('meta[property="og:title"]').setAttribute("content",fullTitle);document.querySelector('meta[property="og:description"]').setAttribute("content",description);document.querySelector('meta[property="og:image"]').setAttribute("content",image);document.querySelector('meta[property="og:url"]').setAttribute("content",url);document.querySelector('meta[property="twitter:title"]').setAttribute("content",fullTitle);document.querySelector('meta[property="twitter:description"]').setAttribute("content",description);document.querySelector('meta[property="twitter:image"]').setAttribute("content",image);document.querySelector('meta[property="twitter:url"]').setAttribute("content",url)}
    function resetMetaTags(){const defaultTitle="Movie TV - Watch & Download Latest HD Movies",defaultDesc="Explore and download a vast collection of the latest and classic movies in HD.",defaultImage="https://rabbi50100.github.io/-HD/og-image.jpg",defaultUrl=window.location.origin;updateMetaTags("Movie TV",defaultDesc,defaultImage,defaultUrl);document.title=defaultTitle}
    function showMainContent(t){mainContent.forEach(e=>{e&&(e.style.display=t?"movie-grid"===e.id?"grid":"flex":"none")});document.getElementById("search-bar").style.display=t?"block":"none"}
    function handleRouteChange(){const e=window.location.pathname;e.startsWith("/movie/")?allMovieData[e.substring(7)]?openViewer(e.substring(7),!0):(window.history.replaceState({},"","/"),resetMetaTags(),showMainContent(!0)):showMainContent(!0)}
    function openViewer(e,t=!1){const o=allMovieData[e];if(!o)return void(window.location.href="/");const{key:n,title:a,image:s,link:i,link2:l,link3:c,category:d}=o;let r="";i&&(r+=`<a href="${i}" target="_blank" class="watch-button">‚ñ∂Ô∏è Watch Now</a>`),l&&(r+=`<a href="${l}" target="_blank" class="download-button">Download 720p</a>`),c&&(r+=`<a href="${c}" target="_blank" class="download-button">Download 360p</a>`);const u=document.getElementById("viewerContent");u.innerHTML=`\n            <span class="close" onclick="closeModal('viewerModal')">√ó</span>\n            <img src="${s}" alt="${a}">\n            <h3>${a}</h3>\n            <p style="color: #aaa;">Genre: <strong style="color: orange;">${d||"N/A"}</strong></p>\n            <div class="download-buttons">${r}</div>\n        `,document.getElementById("viewerModal").style.display="block",showMainContent(!1);const m=`${window.location.origin}/movie/${e}`,p=`Watch or download the movie ${a} in HD. Genre: ${d}.`;window.history.replaceState({slug:e},a,m),updateMetaTags(a,p,s,m),t||database.ref("movies/"+n+"/viewCount").transaction(e=>(e||0)+1)}
    function filterMovies(){const e=document.getElementById("search-bar").value.toLowerCase();Object.values(allMovieElements).forEach(t=>{const o=t.getAttribute("data-title"),n=t.getAttribute("data-category"),a="all"===currentCategoryFilter||n.includes(currentCategoryFilter),s=o.includes(e);t.style.display=a&&s?"block":"none"})}
    function filterByCategory(e,t){currentCategoryFilter=e.toLowerCase(),document.querySelectorAll(".category-filters button").forEach(e=>e.classList.remove("active")),t.target&&t.target.classList.add("active"),filterMovies()}
    window.onclick=function(e){e.target.classList.contains("modal")&&closeModal(e.target.id);const t=document.querySelectorAll(".options-menu");t.forEach(t=>{!t.style.display||t.contains(e.target)||e.target.classList.contains("more-options-btn")||(t.style.display="none")})}
    function toggleLike(e,t){e.stopPropagation();const o=`likedMovie_${t}`;localStorage.getItem(o)?alert("You have already liked this movie!"):database.ref("movies/"+t+"/likeCount").transaction(e=>(e||0)+1).then(()=>{localStorage.setItem(o,"true")})}
    function toggleOptionsMenu(e){e.stopPropagation();const t=e.target.nextElementSibling,o="block"===t.style.display;document.querySelectorAll(".options-menu").forEach(e=>e.style.display="none"),t.style.display=o?"none":"block"}
    document.getElementById("saved-posts-button").addEventListener("click",()=>{const e=document.getElementById("savedPostsModal"),t=document.getElementById("saved-posts-list"),o=document.getElementById("no-saved-posts-message");t.innerHTML="";let n=!1;for(let a=0;a<localStorage.length;a++){const s=localStorage.key(a);if(s.startsWith("savedMovie_")){n=!0;const i=JSON.parse(localStorage.getItem(s)),l=document.createElement("div");l.className="thumbnail-item",l.innerHTML=`<img src="${i.image}" alt="${i.title}"><div class="title">${i.title}</div><span class="remove-saved" onclick="removeSavedPost(event, '${s}')">√ó</span>`,l.onclick=()=>openSavedPostViewer(i),t.appendChild(l)}}o.style.display=n?"none":"block",t.style.display=n?"grid":"none",e.style.display="block"});
    function savePostToLocalStorage(e,t,o,n,a,s,i,l){e.preventDefault();const c={key:t,title:o,image:n,link:a,link2:s,link3:i,category:l};localStorage.setItem(`savedMovie_${t}`,JSON.stringify(c)),alert(`"${o}" has been saved!`),e.target.closest(".options-menu").style.display="none"}
    function removeSavedPost(e,t){e.stopPropagation(),confirm("Are you sure you want to remove this post?")&&(localStorage.removeItem(t),e.target.parentElement.remove())}
    function showPrivacyPolicy(e){e.preventDefault();const t=document.getElementById("privacy-policy-section");t&&(t.style.display="block",showMainContent(!1))}
</script>

</body>
          </html>
