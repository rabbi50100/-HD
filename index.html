<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie TV - Watch & Download Latest HD Movies</title>
    
    <!-- SEO and Meta Tags -->
    <meta name="google-site-verification" content="1mDUrmtjTiKfrYayJONYnzIhgBQcw30UZi0Q1hdhAO4" />
    <meta name="title" content="Movie TV - Watch & Download Latest HD Movies">
    <meta name="description" content="Explore and download a vast collection of the latest and classic movies in HD. Find your favorite action, comedy, horror, and romantic films easily and for free.">
    <meta name="keywords" content="movie downloader, latest movies, hd movies, download movies, free movies, action movies, comedy, horror, romantic, movie apps">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://hindimovie.netlify.app/" />
    
    <!-- Open Graph / Facebook Meta Tags (‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø) -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://hindimovie.netlify.app/">
    <meta property="og:title" content="Movie TV - Watch & Download Latest HD Movies">
    <meta property="og:description" content="Explore and download a vast collection of the latest and classic movies in HD.">
    <!-- ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶∏‡¶Æ‡¶æ‡¶ß‡¶æ‡¶®: ‡¶è‡¶ï‡¶ü‡¶ø ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü ‡¶á‡¶Æ‡ßá‡¶ú ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá ‡¶Ø‡¶æ‡¶§‡ßá ‡¶∂‡ßá‡ßü‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶õ‡¶¨‡¶ø ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶Ø‡¶æ‡ßü -->
    <meta property="og:image" content="https://i.ibb.co/6gT26t3/og-image.jpg" id="og-image-meta">
    
    <!-- Twitter Meta Tags -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://hindimovie.netlify.app/">
    <meta property="twitter:title" content="Movie TV - Watch & Download Latest HD Movies">
    <meta property="twitter:description" content="Explore and download a vast collection of the latest and classic movies in HD.">
    <!-- ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶∏‡¶Æ‡¶æ‡¶ß‡¶æ‡¶®: ‡¶è‡¶ï‡¶ü‡¶ø ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü ‡¶á‡¶Æ‡ßá‡¶ú ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá -->
    <meta property="twitter:image" content="https://i.ibb.co/6gT26t3/og-image.jpg" id="twitter-image-meta">

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-database-compat.js"></script>
    
    <!-- Schema Markup -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Movie TV",
      "url": "https://hindimovie.netlify.app/",
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://hindimovie.netlify.app/#search={search_term_string}",
        "query-input": "required name=search_term_string"
      }
    }
    </script>

    <style>
        html{scroll-behavior:smooth}body{margin:0;padding:20px;font-family:Arial,sans-serif;background-color:#111;color:#fff;overflow-x:hidden}body.loading{overflow:hidden}body.loading>*:not(#loader){display:none}header{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;background-color:#1a1a1a;box-shadow:0 2px 10px rgba(0,0,0,.5);border-bottom:2px solid orange}header h1{color:orange;font-size:28px;font-weight:700;margin:0;letter-spacing:1px;text-shadow:0 0 5px rgba(255,165,0,.7)}.category-filters{text-align:center;margin:20px 0;display:flex;justify-content:center;flex-wrap:wrap;gap:8px;padding:0 10px}.category-filters button{background-color:#333;color:orange;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-size:14px;transition:background-color .3s ease;white-space:nowrap}.category-filters button:hover{background-color:#555}.category-filters button.active{background-color:orange;color:#000}#saved-posts-button{font-size:16px;cursor:pointer;color:orange;border:1px solid orange;background:0 0;padding:8px 15px;border-radius:5px;transition:background-color .3s ease,color .3s ease;font-weight:700}#saved-posts-button:hover{background-color:orange;color:#1a1a1a}#search-bar{margin:20px auto;max-width:600px;display:block;width:100%;padding:10px;background-color:#222;color:#fff;border:none;border-radius:6px;font-size:16px}.movie-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:15px;max-width:600px;margin:20px auto}.movie-card{background-color:#222;border-radius:10px;overflow:hidden;transition:transform .2s;position:relative}.movie-card:hover{transform:scale(1.03)}.movie-card img{width:100%;height:280px;object-fit:cover;display:block;cursor:pointer}.movie-title{padding:10px;text-align:center;font-weight:700}.more-options-btn{position:absolute;top:8px;right:8px;font-size:24px;cursor:pointer;color:orange;background:0 0;border:none;padding:2px 8px;line-height:1;z-index:10}.options-menu{display:none;position:absolute;top:35px;right:8px;background-color:#333;border-radius:5px;box-shadow:0 2px 5px rgba(0,0,0,.7);z-index:11;padding:5px 0;min-width:120px;text-align:left}.options-menu a{display:block;padding:8px 15px;color:#fff;text-decoration:none;font-size:14px;transition:background-color .2s}.options-menu a:hover{background-color:#555}#savedPostsModal .modal-content{background-color:#222;text-align:left;max-width:600px;padding:20px}#savedPostsModal h2{color:orange;text-align:center;margin-bottom:20px}#savedPostsModal .thumbnails-container{display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:10px}#savedPostsModal .thumbnail-item{position:relative;cursor:pointer;border-radius:5px;overflow:hidden;transition:transform .2s,box-shadow .2s}#savedPostsModal .thumbnail-item:hover{transform:scale(1.05);box-shadow:0 0 15px orange}#savedPostsModal .thumbnail-item img{width:100%;height:120px;object-fit:cover;display:block}#savedPostsModal .thumbnail-item .title{position:absolute;bottom:0;left:0;right:0;background-color:rgba(0,0,0,.7);color:#fff;font-size:12px;padding:5px;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}#savedPostsModal .remove-saved{position:absolute;top:2px;right:2px;cursor:pointer;color:red;font-size:18px;background:rgba(0,0,0,.5);border-radius:50%;width:22px;height:22px;line-height:22px;text-align:center;z-index:10}#savedPostsModal .no-posts{text-align:center;color:#ccc;padding:20px}.modal{display:none;position:fixed;z-index:9999;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:rgba(0,0,0,.7)}.modal-content{background-color:#222;margin:10% auto;padding:20px;border-radius:10px;width:90%;max-width:450px;text-align:center}.modal-content img{max-width:250px;height:auto;border-radius:10px;display:block;margin:0 auto 15px}.movie-description{font-size:14px;color:#ccc;line-height:1.5;margin-top:10px;margin-bottom:20px;text-align:left;padding:0 10px}.modal-content h3{margin:15px 0;color:orange}.modal-content a{display:inline-block;padding:10px 20px;background-color:orange;color:#000;text-decoration:none;font-weight:700;border-radius:5px;margin-top:10px}.modal-content a:hover{background-color:darkorange}.close{float:right;font-size:20px;color:#fff;cursor:pointer}#loader{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:10000;flex-direction:column}.spinner{border:6px solid #f3f3f3;border-top:6px solid orange;border-radius:50%;width:50px;height:50px;animation:spin 1s linear infinite;margin-bottom:20px}#loader p{color:orange;font-size:18px;margin:0}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.privacy-policy{max-width:800px;margin:40px auto;padding:30px;background-color:#222;border-radius:10px;color:#fff;line-height:1.6;box-shadow:0 4px 15px rgba(0,0,0,.5)}.privacy-policy h2,.privacy-policy h3{color:orange}.footer-links{text-align:center;margin-top:30px;margin-bottom:20px}.footer-links a{color:orange;text-decoration:none;margin:0 10px;font-size:16px}.footer-links a:hover{text-decoration:underline}.movie-views{display:flex;justify-content:center;padding:5px 0;font-size:12px;color:#bbb;border-top:1px solid #333;margin-top:5px}.movie-views p{margin:0;display:flex;align-items:center;gap:5px}.movie-actions{text-align:center;padding:8px 0;border-top:1px solid #333;margin-top:5px}.like-btn{background:0 0;border:none;color:orange;font-size:16px;cursor:pointer;display:flex;align-items:center;gap:5px;margin:0 auto;padding:5px 10px;border-radius:5px;transition:background-color .3s ease}.like-btn:hover{background-color:#333}.like-btn:active{color:red}.movie-stats{display:flex;justify-content:space-around;align-items:center;padding:8px 0;border-top:1px solid #333;margin-top:5px;font-size:14px}.download-buttons{display:flex;flex-direction:column;align-items:stretch;gap:10px;margin-top:20px}.download-buttons a{display:flex;align-items:center;justify-content:center;padding:12px 15px;color:#fff;text-decoration:none;font-weight:700;border-radius:8px;transition:background-color .3s ease;font-size:16px;gap:8px}.download-buttons a.watch-button{background-color:#d9534f}.download-buttons a.watch-button:hover{background-color:#c9302c}.download-buttons a.download-button{background-color:#5cb85c}.download-buttons a.download-button:hover{background-color:#4cae4c}
        #app-install-banner{position:fixed;bottom:0;left:0;width:100%;background-color:#1a1a1a;box-shadow:0 -2px 10px rgba(0,0,0,.5);z-index:1001;padding:15px;box-sizing:border-box;display:none;align-items:center;justify-content:space-between;gap:15px}.app-info{display:flex;align-items:center;gap:15px}.app-icon{width:50px;height:50px;border-radius:10px}.app-text{color:#fff}.app-text h4{margin:0 0 5px 0;color:orange}.app-text p{margin:0;font-size:14px;color:#ccc}.banner-actions{display:flex;align-items:center;gap:15px}.download-app-btn{background-color:orange;color:#111;padding:8px 16px;border-radius:5px;text-decoration:none;font-weight:700;font-size:14px;white-space:nowrap}.close-banner-btn{font-size:24px;color:#888;cursor:pointer;background:0 0;border:none}
    </style>
</head>
<body>
  <header>
    <h1>üé¨ Movie TV</h1>
    <button id="saved-posts-button" title="Saved Posts">Saved List</button>
  </header>
  
  <div id="app-install-banner">
      <div class="app-info">
          <img src="" alt="App Icon" class="app-icon" id="app-icon-img">
          <div class="app-text">
              <h4>Movie TV App</h4>
              <p>Get a better experience with our app.</p>
          </div>
      </div>
      <div class="banner-actions">
          <a href="#" id="download-app-link" class="download-app-btn" target="_blank">Download App</a>
          <button id="close-banner" class="close-banner-btn">√ó</button>
      </div>
  </div>

  <div class="category-filters">
    <button onclick="filterByCategory('all', event)" class="active">All</button>
    <button onclick="filterByCategory('latest movie', event)">Latest Movie</button>
    <button onclick="filterByCategory('action', event)">Action</button>
    <button onclick="filterByCategory('comedy', event)">Comedy</button>
    <button onclick="filterByCategory('horror', event)">Horror</button>
    <button onclick="filterByCategory('romantic', event)">Romantic</button>
  </div>
  <div id="savedPostsModal" class="modal"><div class="modal-content"><span class="close" onclick="closeModal('savedPostsModal')">√ó</span><h2>üìö Saved Posts</h2><div class="thumbnails-container" id="saved-posts-list"></div><div class="no-posts" id="no-saved-posts-message" style="display: none;">No saved posts yet.</div></div></div>
  <input type="text" id="search-bar" placeholder="üîç Search movies by title..." onkeyup="filterMovies()">
  <div id="viewerModal" class="modal"><div class="modal-content" id="viewerContent"></div></div>
  <div id="loader"><div class="spinner"></div><p>Loading Movies...</p></div>
  <div class="movie-grid" id="movie-grid"></div>
  <div id="privacy-policy-section" class="privacy-policy" style="display: none;"></div>
  <div class="footer-links"><a href="#privacy-policy-section" onclick="showPrivacyPolicy(event)">Privacy Policy</a> | <a href="#">Terms of Service</a><p style="margin-top: 10px;">¬© 2025 Movie TV. All Rights Reserved.</p></div>

<script>
    const firebaseConfig = {
      apiKey: "AIzaSyD-tlrPK8s9h87PVqtvprBy_phcCqONLeU",
      authDomain: "my-movie-81a4b.firebaseapp.com",
      databaseURL: "https://my-movie-81a4b-default-rtdb.firebaseio.com",
      projectId: "my-movie-81a4b",
      storageBucket: "my-movie-81a4b.firebasestorage.app",
      messagingSenderId: "249876555391",
      appId: "1:249876555391:web:81f3ad52805b0aa314c14a",
      measurementId: "G-RHPWTHQHS2"
    };
    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();
    const moviesRef = database.ref('movies');
    const settingsRef = database.ref('siteSettings');

    let allMovieData = {};
    let allMovieElements = {};
    let currentCategoryFilter = 'all';
    let lastClickedCardElement = null;
    let siteSettings = {};

    document.addEventListener('DOMContentLoaded', () => {
        document.body.classList.add('loading');
        
        const defaultSettings = {
            appIconUrl: 'https://i.ibb.co/6gT26t3/og-image.jpg',
            appDownloadUrl: '#',
            mainOgImageUrl: 'https://i.ibb.co/6gT26t3/og-image.jpg'
        };

        // ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ ‡¶°‡ßá‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá
        settingsRef.once('value').then(settingsSnapshot => {
            siteSettings = { ...defaultSettings, ...settingsSnapshot.val() };

            const appIconImg = document.getElementById('app-icon-img');
            const downloadAppLink = document.getElementById('download-app-link');
            if(appIconImg) appIconImg.src = siteSettings.appIconUrl;
            if(downloadAppLink) downloadAppLink.href = siteSettings.appDownloadUrl;
            
            resetMetaTags();
            setupAppBanner();
            loadMovies();
        }).catch(error => {
            console.error("Error fetching settings:", error);
            siteSettings = defaultSettings;
            resetMetaTags();
            setupAppBanner();
            loadMovies();
        });
    });
    
    function setupAppBanner() {
        const installBanner = document.getElementById('app-install-banner');
        const closeBannerBtn = document.getElementById('close-banner');
        if (installBanner && closeBannerBtn) {
            setTimeout(() => { installBanner.style.display = 'flex'; }, 5000);
            closeBannerBtn.addEventListener('click', () => { installBanner.style.display = 'none'; });
        }
    }

    function loadMovies() {
        // ‡¶è‡¶á ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®‡¶ü‡¶ø Firebase ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶§ ‡¶Æ‡ßÅ‡¶≠‡¶ø‡¶∞ ‡¶°‡ßá‡¶ü‡¶æ ‡¶è‡¶ï‡¶¨‡¶æ‡¶∞‡ßá ‡¶®‡¶ø‡ßü‡ßá ‡¶Ü‡¶∏‡ßá‡•§
        moviesRef.orderByChild('timestamp').once('value', snapshot => {
            document.body.classList.remove('loading');
            document.getElementById('loader').style.display = 'none';
            const movieGrid = document.getElementById('movie-grid');
            movieGrid.innerHTML = '';
            
            const moviesArray = [];
            snapshot.forEach(child => { moviesArray.push({ key: child.key, ...child.val() }); });
            moviesArray.reverse(); // ‡¶®‡¶§‡ßÅ‡¶® ‡¶Æ‡ßÅ‡¶≠‡¶ø‡¶ó‡ßÅ‡¶≤‡¶ø ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø

            if (moviesArray.length > 0) {
                moviesArray.forEach(item => {
                    item.slug = createSlug(item.title);
                    allMovieData[item.slug] = item;
                    addMovieCard(item);
                });
            } else {
                movieGrid.innerHTML = '<p style="text-align:center;">No movies found.</p>';
            }
            handleRouteChange();
        });
    }

    function resetMetaTags() {
        const defaultTitle = "Movie TV - Watch & Download Latest HD Movies";
        const defaultDesc = "Explore and download a vast collection of the latest and classic movies in HD.";
        const defaultUrl = window.location.origin;
        // ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶•‡ßá‡¶ï‡ßá ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶õ‡¶¨‡¶ø‡¶ü‡¶ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá
        updateMetaTags("Movie TV", defaultDesc, siteSettings.mainOgImageUrl, defaultUrl);
        document.title = defaultTitle;
    }
    
    function updateMetaTags(title, desc, imageUrl, url) {
        const fullTitle = `${title} - Movie TV`;
        document.title = fullTitle;

        const metaTitle = document.querySelector('meta[name="title"]');
        const metaDesc = document.querySelector('meta[name="description"]');
        const canonicalLink = document.querySelector('link[rel="canonical"]');
        const ogTitle = document.querySelector('meta[property="og:title"]');
        const ogDesc = document.querySelector('meta[property="og:description"]');
        const ogImage = document.getElementById('og-image-meta');
        const ogUrl = document.querySelector('meta[property="og:url"]');
        const twitterTitle = document.querySelector('meta[property="twitter:title"]');
        const twitterDesc = document.querySelector('meta[property="twitter:description"]');
        const twitterImage = document.getElementById('twitter-image-meta');
        const twitterUrl = document.querySelector('meta[property="twitter:url"]');

        if (metaTitle) metaTitle.setAttribute('content', fullTitle);
        if (metaDesc) metaDesc.setAttribute('content', desc);
        if (canonicalLink) canonicalLink.setAttribute('href', url);
        if (ogTitle) ogTitle.setAttribute('content', fullTitle);
        if (ogDesc) ogDesc.setAttribute('content', desc);
        if (ogImage) ogImage.setAttribute('content', imageUrl);
        if (ogUrl) ogUrl.setAttribute('content', url);
        if (twitterTitle) twitterTitle.setAttribute('content', fullTitle);
        if (twitterDesc) twitterDesc.setAttribute('content', desc);
        if (twitterImage) twitterImage.setAttribute('content', imageUrl);
        if (twitterUrl) twitterUrl.setAttribute('content', url);
    }

    function createSlug(t){return t?t.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,""):""}
    function escapeQuotes(t){return"string"!=typeof t?"":t.replace(/'/g,"\\'").replace(/"/g,'\\"')}
    function addMovieCard(t){const{key:e,title:a,image:o,slug:n,category:s,viewCount:i,likeCount:r}=t,d=document.createElement("div");d.className="movie-card",d.setAttribute("data-key",e),d.setAttribute("data-title",a.toLowerCase()),d.setAttribute("data-category",(s||"other").toLowerCase()),d.setAttribute("data-slug",n),d.innerHTML=`\n <button class="more-options-btn" onclick="toggleOptionsMenu(event)">‚Ä¶</button>\n <div class="options-menu" id="options-menu-${e}">\n <a href="#" onclick="savePostToLocalStorage(event, '${e}', '${escapeQuotes(a)}', '${escapeQuotes(o)}', '${escapeQuotes(t.link)}', '${escapeQuotes(t.link2)}', '${escapeQuotes(t.link3)}', '${escapeQuotes(s)}')">Save Post</a>\n </div>\n <div class="movie-content-wrapper">\n <img src="${o}" alt="${a}">\n </div>\n <div class="movie-title">${a}</div>\n <div style="text-align:center; font-size: 14px; color: orange;">[${s||"Other"}]</div>\n <div class="movie-stats">\n <div class="movie-views"><p>üëÅÔ∏è <span id="views-${e}">${i||0}</span></p></div>\n <div class="movie-actions"><button class="like-btn" title="Like Movie" onclick="toggleLike(event, '${e}')">‚ù§Ô∏è <span id="likes-${e}">${r||0}</span></button></div>\n </div>\n `;const l=d.querySelector(".movie-content-wrapper");l.addEventListener("click",()=>{lastClickedCardElement=d,openViewer(n)}),document.getElementById("movie-grid").appendChild(d),allMovieElements[e]=d,database.ref("movies/"+e).on("value",t=>{const a=t.val();if(a){const o=document.getElementById(`views-${e}`),n=document.getElementById(`likes-${e}`);o&&(o.innerText=a.viewCount||0),n&&(n.innerText=a.likeCount||0)}})}
    function closeModal(t){document.getElementById(t).style.display="none",showMainContent(!0),lastClickedCardElement&&lastClickedCardElement.scrollIntoView({behavior:"smooth",block:"center"}),window.location.pathname.startsWith("/movie/")&&window.history.replaceState({},"","/"),resetMetaTags()}
    function showMainContent(t){[document.querySelector("header"),document.querySelector(".category-filters"),document.getElementById("search-bar"),document.getElementById("movie-grid")].forEach(e=>{e&&(e.style.display=t?"movie-grid"===e.id?"grid":"flex":"none")}),document.getElementById("search-bar").style.display=t?"block":"none"}
    function handleRouteChange(){const t=window.location.pathname;t.startsWith("/movie/")?allMovieData[t.substring(7)]?openViewer(t.substring(7),!0):(window.history.replaceState({},"","/"),resetMetaTags(),showMainContent(!0)):showMainContent(!0)}
    function openViewer(t,e=!1){const a=allMovieData[t];if(!a)return void(window.location.href="/");const{key:o,title:n,image:s,link:i,link2:r,link3:d,category:l,description:c}=a;let m="";i&&(m+=`<a href="${i}" target="_blank" class="watch-button">‚ñ∂Ô∏è Watch Now</a>`),r&&(m+=`<a href="${r}" target="_blank" class="download-button">Download 720p</a>`),d&&(m+=`<a href="${d}" target="_blank" class="download-button">Download 360p</a>`);const p=document.getElementById("viewerContent");p.innerHTML=`\n <span class="close" onclick="closeModal('viewerModal')">√ó</span>\n <img src="${s}" alt="${n}">\n <h3>${n}</h3>\n <p class="movie-description">${c||"No description available."}</p>\n <p style="color: #aaa;">Genre: <strong style="color: orange;">${l||"N/A"}</strong></p>\n <div class="download-buttons">${m}</div>\n `,document.getElementById("viewerModal").style.display="block",showMainContent(!1);const u=`${window.location.origin}/movie/${t}`,g=`${c||`Watch or download the movie ${n} in HD. Genre: ${l}.`}`;window.history.replaceState({slug:t},n,u),updateMetaTags(n,g,s,u),e||database.ref("movies/"+o+"/viewCount").transaction(t=>(t||0)+1)}
    function filterMovies(){const t=document.getElementById("search-bar").value.toLowerCase();Object.values(allMovieElements).forEach(e=>{const a=e.getAttribute("data-title"),o=e.getAttribute("data-category"),n="all"===currentCategoryFilter||o.includes(currentCategoryFilter),s=a.includes(t);e.style.display=n&&s?"block":"none"})}
    function filterByCategory(t,e){currentCategoryFilter=t.toLowerCase(),document.querySelectorAll(".category-filters button").forEach(t=>t.classList.remove("active")),e.target&&e.target.classList.add("active"),filterMovies()}
    window.onclick=function(t){t.target.classList.contains("modal")&&closeModal(t.target.id);const e=document.querySelectorAll(".options-menu");e.forEach(e=>{!e.style.display||e.contains(t.target)||t.target.classList.contains("more-options-btn")||(e.style.display="none")})}
    function toggleLike(t,e){t.stopPropagation();const a=`likedMovie_${e}`;localStorage.getItem(a)?alert("You have already liked this movie!"):database.ref("movies/"+e+"/likeCount").transaction(t=>(t||0)+1).then(()=>{localStorage.setItem(a,"true")})}
    function toggleOptionsMenu(t){t.stopPropagation();const e=t.target.nextElementSibling,a="block"===e.style.display;document.querySelectorAll(".options-menu").forEach(t=>t.style.display="none"),e.style.display=a?"none":"block"}
    document.getElementById("saved-posts-button").addEventListener("click",()=>{const t=document.getElementById("savedPostsModal"),e=document.getElementById("saved-posts-list"),a=document.getElementById("no-saved-posts-message");e.innerHTML="";let o=!1;for(let n=0;n<localStorage.length;n++){const s=localStorage.key(n);if(s.startsWith("savedMovie_")){o=!0;const i=JSON.parse(localStorage.getItem(s)),r=document.createElement("div");r.className="thumbnail-item",r.innerHTML=`<img src="${i.image}" alt="${i.title}"><div class="title">${i.title}</div><span class="remove-saved" onclick="removeSavedPost(event, '${s}')">√ó</span>`,r.onclick=()=>openSavedPostViewer(i),e.appendChild(r)}}a.style.display=o?"none":"block",e.style.display=o?"grid":"none",t.style.display="block"});
    function savePostToLocalStorage(t,e,a,o,n,s,i,r){t.preventDefault();const d={key:e,title:a,image:o,link:n,link2:s,link3:i,category:r};localStorage.setItem(`savedMovie_${e}`,JSON.stringify(d)),alert(`"${a}" has been saved!`),t.target.closest(".options-menu").style.display="none"}
    function removeSavedPost(t,e){t.stopPropagation(),confirm("Are you sure you want to remove this post?")&&(localStorage.removeItem(e),t.target.parentElement.remove())}
    function openSavedPostViewer(t){lastClickedCardElement=null;const e=createSlug(t.title);closeModal("savedPostsModal"),openViewer(e)}
    function showPrivacyPolicy(t){t.preventDefault();const e=document.getElementById("privacy-policy-section");e&&(e.style.display="block",showMainContent(!1))}
    window.onpopstate=()=>{closeModal("viewerModal")};
</script>

</body>
        </html>
